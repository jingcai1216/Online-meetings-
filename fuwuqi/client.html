<!DOCTYPE html>
<html>
    <head>
 	<meta charset="utf-8"/>
 	<title>Node.js+webSocket聊天室客户端</title>
 	</head>
 	<body>
 		<h1>jingcai</h1>


         <textarea name="" id="text" cols="30" rows="10">
         </textarea>
         <button id="btn">发送</button>

        <!-- <script type="text/javascript"
         src="http://wulv5.com/js/socket.io.min.js">-->

         <script type="text/javascript"
         src="https://cdn.bootcdn.net/ajax/libs/socket.io/3.0.0-rc4/socket.io.js">
         </script>
         <script type="text/javascript">
         	var socket=io.connect("/");//连接聊天室的io服务器  io服务器的根目录
            //socket.send("");
            var oText=document.getElementById("text"),
              oBtn=document.getElementById("btn");
              oBtn.onclick=function(){
              	var mes=oText.value;
              	if(!mes)
              	{
              		return;
              	}
              	socket.send(mes);//如果文本框内有内容
              	                 //那么就发送消息去服务器
              	oText.value="";//发送完消息清空文本框内容
              }
              socket.on("message",function(mes){
              	//console.log(mes);//输出服务器端发送过来的消息
              	var div=document.createElement("div");
              	div.className="mes";
              	div.innerText=mes;
              	document.body.appendChild(div);
              });


         </script>

 	</body>
</html> 